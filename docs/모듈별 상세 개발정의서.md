# 모듈별 상세 개발 정의서

## Auth · 회원 모듈
- **OAuth Provider**: Kakao (`provider: 'kakao'`)
- **초기화**: `createClientComponentClient` (client), `createServerComponentClient` (server), `createRouteHandlerClient` (route).
- **회원 데이터 저장**: `users` 테이블 (RLS on). 키 필드 `auth_id` 고정, `full_name`, `email`, `phone` upsert.
- **콜백 처리**: `/api/auth/callback/kakao`에서 코드 교환 및 사용자 동기화.
- **세션 흐름**: 로그인 성공 → 자동 회원가입 → 세션 쿠키 발급 → 루트/로그인 페이지에서 환영 메시지 렌더링.
- **로그아웃**: `supabase.auth.signOut()` 호출 후 `router.refresh()`로 UI 상태 갱신.

추가 업데이트 시 `agent.md`와 CHANGELOG를 함께 수정합니다.
